/* Auto-generated by PyBridge - DO NOT EDIT */
/* Generated: 2025-12-11T20:46:27.593406 */

import { initBridge, request, createChannel, BridgeRequestError } from "./_internal";
import type { BridgeChannel, BridgeError } from "./_internal";

// Re-export initialization and error types
export { initBridge, BridgeRequestError };
export type { BridgeChannel, BridgeError };

// ============ Interfaces ============

/**
 * A task item.
 */
export interface Task {
    id: number;
    title: string;
    description?: string | null;
    priority?: unknown;
    status?: unknown;
    labels?: TaskLabel[];
    createdAt: string;
    dueDate?: string | null;
    assignedTo?: number | null;
}

/**
 * A label/tag for categorizing tasks.
 */
export interface TaskLabel {
    id: number;
    name: string;
    color?: string;
}

/**
 * Statistics about tasks.
 */
export interface TaskStats {
    total: number;
    todo: number;
    inProgress: number;
    done: number;
    cancelled: number;
    byPriority: Record<string, number>;
}

/**
 * A user in the system.
 */
export interface User {
    id: number;
    name: string;
    email: string;
    isActive?: boolean;
}

/**
 * Current weather conditions.
 */
export interface WeatherData {
    city: string;
    temperature: number;
    humidity: number;
    conditions: string;
    windSpeed: number;
}

/**
 * Weather forecast for a specific day.
 */
export interface WeatherForecast {
    day: string;
    high: number;
    low: number;
    conditions: string;
    precipitationChance: number;
}

/**
 * A streaming weather update.
 */
export interface WeatherUpdate {
    timestamp: string;
    city: string;
    temperature: number;
    conditions: string;
}


// ============ Commands ============

/**
 * Create a new label.
 */
export async function createLabel(args: { name: string; color: string }): Promise<TaskLabel> {
    return request("create_label", args);
}

/**
 * Create a new task.
 */
export async function createTask(args: { title: string; description: string | null; priority: string; dueDate: string | null; labelIds: number[] | null }): Promise<Task> {
    return request("create_task", args);
}

/**
 * Create a new user.
 * 
 * Returns the created user with their assigned ID.
 */
export async function createUser(args: { name: string; email: string }): Promise<User> {
    return request("create_user", args);
}

/**
 * Delete a task.
 */
export async function deleteTask(args: { taskId: number }): Promise<boolean> {
    return request("delete_task", args);
}

/**
 * Delete a user.
 * 
 * Returns True if the user was deleted, False if they didn't exist.
 */
export async function deleteUser(args: { userId: number }): Promise<boolean> {
    return request("delete_user", args);
}

/**
 * Get weather forecast for a city.
 * 
 * Returns a list of forecasts for the specified number of days.
 */
export async function getForecast(args: { city: string; days: number }): Promise<WeatherForecast[]> {
    return request("get_forecast", args);
}

/**
 * Get a task by ID.
 */
export async function getTask(args: { taskId: number }): Promise<Task> {
    return request("get_task", args);
}

/**
 * Get statistics about all tasks.
 */
export async function getTaskStats(): Promise<TaskStats> {
    return request("get_task_stats", {});
}

/**
 * Get a user by ID.
 * 
 * Raises an error if the user doesn't exist.
 */
export async function getUser(args: { userId: number }): Promise<User> {
    return request("get_user", args);
}

/**
 * Get current weather for a city.
 * 
 * Returns simulated weather data.
 */
export async function getWeather(args: { city: string }): Promise<WeatherData> {
    return request("get_weather", args);
}

/**
 * Get list of available cities with weather data.
 */
export async function listCities(): Promise<string[]> {
    return request("list_cities", {});
}

/**
 * Get all available labels.
 */
export async function listLabels(): Promise<TaskLabel[]> {
    return request("list_labels", {});
}

/**
 * List tasks with optional filters.
 * 
 * Can filter by status, priority, or label.
 */
export async function listTasks(args: { status: string | null; priority: string | null; labelId: number | null }): Promise<Task[]> {
    return request("list_tasks", args);
}

/**
 * List all users.
 * 
 * Optionally filter to only active users.
 */
export async function listUsers(args: { activeOnly: boolean }): Promise<User[]> {
    return request("list_users", args);
}

/**
 * Search for users by name or email.
 * 
 * Returns users whose name or email contains the search query.
 */
export async function searchUsers(args: { query: string }): Promise<User[]> {
    return request("search_users", args);
}

/**
 * Stream weather updates for multiple cities.
 * 
 * Cycles through the provided cities, sending one update every 2 seconds.
 */
export function streamMultiCity(args: { cities: string[] }): BridgeChannel<WeatherUpdate> {
    return createChannel("stream_multi_city", args);
}

/**
 * Stream live weather updates for a city.
 * 
 * This demonstrates PyBridge's streaming/channel support.
 * Updates are sent at the specified interval until the channel is closed.
 * 
 * Args:
 * city: The city to monitor.
 * interval_seconds: How often to send updates (1-60 seconds).
 * channel: The streaming channel (automatically injected).
 */
export function streamWeather(args: { city: string; intervalSeconds: number }): BridgeChannel<WeatherUpdate> {
    return createChannel("stream_weather", args);
}

/**
 * Update the status of a task.
 */
export async function updateTaskStatus(args: { taskId: number; status: string }): Promise<Task> {
    return request("update_task_status", args);
}

/**
 * Update an existing user.
 * 
 * Only provided fields will be updated.
 */
export async function updateUser(args: { userId: number; name: string | null; email: string | null; isActive: boolean | null }): Promise<User> {
    return request("update_user", args);
}